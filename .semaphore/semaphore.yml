version: v1.0
name: Nome di cosa?
agent:
  machine:
    type: e1-standard-2
  containers:
    - name: main
      image: microsoft/dotnet:2.2-sdk
blocks:
  - name: Build and test
    task:
      jobs:
      - name: Build
        commands:
          - checkout
          - ls -lah
          - dotnet build
          
      - name: Test
        commands:
          - checkout
          - dotnet test
          
  - name: Docker
    task:
      jobs:
      - name: Build Docker image
        commands:
          - checkout
          - ls -lah
          - docker build -t expelliarbus .
          - docker images
          - ls -lah
